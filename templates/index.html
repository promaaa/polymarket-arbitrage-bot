<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arbitrage Bot</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>

<body>
    <div class="container">
        <div class="header">
            <div class="header-left">
                <h1>Arbitrage Bot</h1>
                <p class="subtitle">Paper trading on Polymarket</p>
            </div>
            <button class="theme-toggle" id="theme-toggle">Dark mode</button>
        </div>

        <div class="stats">
            <div class="stat">
                <span class="stat-value" id="balance">$10,000</span>
                <span class="stat-label">Balance</span>
            </div>
            <div class="stat positive">
                <span class="stat-value" id="profit">$0</span>
                <span class="stat-label">Profit</span>
            </div>
            <div class="stat">
                <span class="stat-value" id="positions">0</span>
                <span class="stat-label">Positions</span>
            </div>
            <div class="stat accent">
                <span class="stat-value" id="opportunities">0</span>
                <span class="stat-label">Found</span>
            </div>
        </div>

        <div class="status">
            <div class="status-left">
                <span class="status-dot" id="scanner-dot"></span>
                <span id="scanner-text">Connecting</span>
            </div>
            <div class="status-right">
                <span id="scan-count">0</span> scans · <span id="last-scan">—</span>
            </div>
        </div>

        <div class="section">
            <div class="section-header">Opportunities</div>
            <div class="card">
                <table>
                    <thead>
                        <tr>
                            <th>Market</th>
                            <th>Yes</th>
                            <th>No</th>
                            <th>Total</th>
                            <th>Profit</th>
                        </tr>
                    </thead>
                    <tbody id="opportunities-body">
                        <tr>
                            <td colspan="5" class="empty">Waiting for data</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="section">
            <div class="section-header">Positions</div>
            <div class="card">
                <table>
                    <thead>
                        <tr>
                            <th>Market</th>
                            <th>Shares</th>
                            <th>Cost</th>
                            <th>Expected</th>
                        </tr>
                    </thead>
                    <tbody id="positions-body">
                        <tr>
                            <td colspan="4" class="empty">No positions</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="section">
            <div class="section-header">Recent Trades</div>
            <div class="card">
                <table>
                    <thead>
                        <tr>
                            <th>Market</th>
                            <th>Side</th>
                            <th>Outcome</th>
                            <th>Shares</th>
                            <th>Price</th>
                        </tr>
                    </thead>
                    <tbody id="trades-body">
                        <tr>
                            <td colspan="5" class="empty">No trades</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="actions">
            <button id="reset-btn" class="btn danger">Reset</button>
        </div>

        <footer>Paper trading only</footer>
    </div>

    <script src="/static/app.js"></script>
    <script>
        // Theme toggle
        const toggle = document.getElementById('theme-toggle');
        const html = document.documentElement;

        // Check saved preference
        const saved = localStorage.getItem('theme');
        if (saved === 'dark' || (!saved && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            html.setAttribute('data-theme', 'dark');
            toggle.textContent = 'Light mode';
        }

        toggle.addEventListener('click', () => {
            const isDark = html.getAttribute('data-theme') === 'dark';
            if (isDark) {
                html.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
                toggle.textContent = 'Dark mode';
            } else {
                html.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
                toggle.textContent = 'Light mode';
            }
        });
    </script>
</body>

</html>